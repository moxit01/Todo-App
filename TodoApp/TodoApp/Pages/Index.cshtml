@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
    Layout = null;
}

<a asp-page="./AddToDo">Add ToDo</a>

<br />
<br />

<h1>ToDo List</h1>

@for (int i = 0; i < Model.Items.Count; i++)
{
    int index = i + 1;

    <form method="post">

        <td>@index.  </td>
        <td>Name: </td>
        <td>
            @Html.DisplayFor(modelItem => Model.Items.ElementAt(i).Name)<br />
        </td>
        <td>Description: </td>
        <td>
            @Html.DisplayFor(modelItem => Model.Items.ElementAt(i).Description)<br />
        </td>

        <a asp-page="./AddToDo" asp-route-id="@Model.Items.ElementAt(i).Id">Edit</a>
        <td>
            <input type="hidden" name="id" value="@Model.Items.ElementAt(i).Id" />
            <input type="submit" value="Mark as Done" asp-page-handler="Submit" />
        </td>
        <br />
        <br />
    </form>
}

@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}
